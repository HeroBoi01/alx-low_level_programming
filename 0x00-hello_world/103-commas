#!/bin/bash

dir_list=""
file_list=""

# Function to check if a string contains only digits and letters
is_alphanumeric() {
  [[ "$1" =~ ^[[:alnum:]]+$ ]]
}

# Loop through all files and directories in the current directory
for entry in $(ls -A); do
  # Check if the entry is a directory
  if [ -d "$entry" ]; then
    # Append directory name with a slash to the directory list
    if [ "$entry" != "." ] && [ "$entry" != ".." ]; then
      dir_list="$dir_list$entry/,"
    fi
  # Check if the entry is a file
  elif [ -f "$entry" ]; then
    # Append file name to the file list
    file_list="$file_list$entry,"
  fi
done

# Sort the directory list
sorted_dir_list=""
for dir in $dir_list; do
  if is_alphanumeric "$dir"; then
    sorted_dir_list="$sorted_dir_list$dir,"
  fi
done
sorted_dir_list=$(echo "$sorted_dir_list" | tr ',' '\n' | sort -k1,1n -k1.2 | tr '\n' ',')

# Sort the file list
sorted_file_list=""
for file in $file_list; do
  if is_alphanumeric "$file"; then
    sorted_file_list="$sorted_file_list$file,"
  fi
done
sorted_file_list=$(echo "$sorted_file_list" | tr ',' '\n' | sort | tr '\n' ',')

# Print the final listing
echo "./, ../,$sorted_dir_list$sorted_file_list"
